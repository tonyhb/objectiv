// Generated by CoffeeScript 1.3.3
(function() {

  define(["jquery", "underscore", "backbone", "modernizr"], function($, _, Backbone, Modernizr) {
    var app;
    app = {
      api: '/api.json/v1/',
      currentSite: null,
      cache: {}
    };
    _.extend(Backbone.Collection.prototype, {
      parse: function(resp, xhr) {
        if (resp.metadata.status !== 200) {
          return {};
        }
        return resp.content;
      }
    });
    _.extend(Backbone.Model.prototype, {
      isNew: function() {
        return this.attributes._id === null || this.attributes._id === void 0;
      }
    });
    _.extend(Backbone.View.prototype, {
      innerViews: {},
      close: function() {
        _.invoke(this.innerViews, 'close');
        this.undelegateEvents();
        this.unbind();
        this.remove();
        if (this.onClose) {
          this.onClose();
        }
        return this.innerViews = {};
      },
      remove: function() {
        return $(this.el).remove();
      },
      unbind: function() {}
    });
    return app;
  });

}).call(this);
