// Generated by CoffeeScript 1.3.3
(function() {

  require(["modernizr", "app", "router", "views/menu"], function(Modernizr, app, router, Menu) {
    app.router = new router.Router();
    app.menu = new Menu();
    app.menu.render();
    if (Modernizr.history) {
      Backbone.history.start({
        pushState: true,
        root: "/admin/"
      });
      $(document).on('click', 'a', function(e) {
        var href;
        href = e.target.getAttribute('href').replace('/admin/', '');
        app.router.navigate(href, {
          trigger: true
        });
        e.preventDefault();
        return false;
      });
    } else {
      Backbone.history.start({
        root: "/admin/"
      });
    }
    return app.router.navigate();
  });

}).call(this);
